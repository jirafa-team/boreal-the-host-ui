"use client"

import type React from "react"
import { createContext, useContext, useState, useEffect } from "react"

type Language = "es" | "en" | "pt" | "fr"

interface LanguageContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined)

export function LanguageProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguageState] = useState<Language>("es")

  useEffect(() => {
    const savedLanguage = localStorage.getItem("language") as Language | null
    if (savedLanguage) {
      setLanguageState(savedLanguage)
    }
  }, [])

  const setLanguage = (lang: Language) => {
    setLanguageState(lang)
    localStorage.setItem("language", lang)
  }

  const t = (key: string): string => {
    const keys = key.split(".")
    let value: any = translations[language]

    for (const k of keys) {
      if (value && typeof value === "object" && k in value) {
        value = value[k]
      } else {
        return key
      }
    }

    return typeof value === "string" ? value : key
  }

  return <LanguageContext.Provider value={{ language, setLanguage, t }}>{children}</LanguageContext.Provider>
}

export function useLanguage() {
  const context = useContext(LanguageContext)
  if (context === undefined) {
    throw new Error("useLanguage must be used within a LanguageProvider")
  }
  return context
}

const translations = {
  es: {
    common: {
      continue: "Continuar",
      cancel: "Cancelar",
      save: "Guardar",
      delete: "Eliminar",
      edit: "Editar",
      search: "Buscar",
      filter: "Filtrar",
      close: "Cerrar",
      back: "Volver",
      next: "Siguiente",
      previous: "Anterior",
      loading: "Cargando",
      error: "Error",
      success: "Éxito",
    },
    login: {
      welcome: "Bienvenido a tu experiencia",
      reservationCode: "Código de Reserva",
      lastName: "Apellido",
      enterReservationCode: "Ingresa tu código de reserva",
      enterLastName: "Ingresa tu apellido",
      orAccessAs: "O accede como",
      accessAdmin: "Acceso Admin / Manager",
      accessClient: "Acceso Cliente",
      needHelp: "¿Necesitas ayuda? Contacta recepción",
      adminAccess: "Acceso Admin",
      user: "Usuario",
      password: "Contraseña",
      enterUser: "Ingresa tu usuario",
      enterPassword: "Ingresa tu contraseña",
      login: "Ingresar",
      invalidCredentials: "Usuario o contraseña inválidos",
      invalidCode: "Código de reserva inválido",
      selectLanguage: "Selecciona tu idioma",
    },
    client: {
      home: "Inicio",
      orders: "Órdenes",
      events: "Eventos",
      notifications: "Avisos",
      agenda: "Agenda",
      yourStay: "Tu Estancia",
      checkout: "Checkout",
      nights: "noches",
      extend: "Extender",
      orderFood: "Ordenar Comida",
      roomService: "Room Service disponible 24/7",
      arriving: "Llega entre",
      featuredServices: "Servicios Destacados",
      reservations: "Reserva",
      breakfast: "Desayuno",
      cleaning: "Limpieza",
      gym: "Gimnasio",
      pool: "Piscina",
      notReserved: "Sin reservar",
      reserved: "Reservado",
      needHelp: "¿Necesitas Ayuda?",
      hereForYou: "Estamos aquí para ti",
      city: "Ciudad",
      map: "Mapa",
      visits: "Visitas",
      concierge: "Concierge",
      myOrders: "Mis Órdenes",
      totalAccumulated: "Total Acumulado",
      viewMenu: "Ver Menú",
      registered: "Registrado",
      register: "Registrar",
      today: "Hoy",
      tomorrow: "Mañana",
    },
    admin: {
      adminPanel: "Panel Admin",
      general: "General",
      dashboard: "Dashboard",
      salesAssistant: "Asistente de Ventas",
      spaces: "Espacios",
      rooms: "Habitaciones",
      spaceDesign: "Diseño de Espacios",
      services: "Servicios",
      facilities: "Facilities",
      housekeeping: "Limpieza",
      events: "Eventos",
      tickets: "Tickets",
      orders: "Pedidos",
      communication: "Comunicación",
      clients: "Clientes",
      notifications: "Notificaciones",
      recommendations: "Recomendaciones",
      logout: "Cerrar Sesión",
    },
    staff: {
      tasks: "Tareas",
      pending: "Pendientes",
      inProgress: "En Progreso",
      completed: "Completadas",
      high: "Alta",
      medium: "Media",
      low: "Baja",
      start: "Iniciar",
      pause: "Pausar",
      complete: "Completar",
      cancel: "Cancelar",
    },
  },
  en: {
    common: {
      continue: "Continue",
      cancel: "Cancel",
      save: "Save",
      delete: "Delete",
      edit: "Edit",
      search: "Search",
      filter: "Filter",
      close: "Close",
      back: "Back",
      next: "Next",
      previous: "Previous",
      loading: "Loading",
      error: "Error",
      success: "Success",
    },
    login: {
      welcome: "Welcome to your experience",
      reservationCode: "Reservation Code",
      lastName: "Last Name",
      enterReservationCode: "Enter your reservation code",
      enterLastName: "Enter your last name",
      orAccessAs: "Or access as",
      accessAdmin: "Admin / Manager Access",
      accessClient: "Guest Access",
      needHelp: "Need help? Contact reception",
      adminAccess: "Admin Access",
      user: "User",
      password: "Password",
      enterUser: "Enter your username",
      enterPassword: "Enter your password",
      login: "Sign In",
      invalidCredentials: "Invalid username or password",
      invalidCode: "Invalid reservation code",
      selectLanguage: "Select your language",
    },
    client: {
      home: "Home",
      orders: "Orders",
      events: "Events",
      notifications: "Alerts",
      agenda: "Agenda",
      yourStay: "Your Stay",
      checkout: "Checkout",
      nights: "nights",
      extend: "Extend",
      orderFood: "Order Food",
      roomService: "Room Service available 24/7",
      arriving: "Arriving between",
      featuredServices: "Featured Services",
      reservations: "Reservations",
      breakfast: "Breakfast",
      cleaning: "Cleaning",
      gym: "Gym",
      pool: "Pool",
      notReserved: "Not Reserved",
      reserved: "Reserved",
      needHelp: "Need Help?",
      hereForYou: "We're here for you",
      city: "City",
      map: "Map",
      visits: "Visits",
      concierge: "Concierge",
      myOrders: "My Orders",
      totalAccumulated: "Total Amount",
      viewMenu: "View Menu",
      registered: "Registered",
      register: "Register",
      today: "Today",
      tomorrow: "Tomorrow",
    },
    admin: {
      adminPanel: "Admin Panel",
      general: "General",
      dashboard: "Dashboard",
      salesAssistant: "Sales Assistant",
      spaces: "Spaces",
      rooms: "Rooms",
      spaceDesign: "Space Design",
      services: "Services",
      facilities: "Facilities",
      housekeeping: "Housekeeping",
      events: "Events",
      tickets: "Tickets",
      orders: "Orders",
      communication: "Communication",
      clients: "Guests",
      notifications: "Notifications",
      recommendations: "Recommendations",
      logout: "Logout",
    },
    staff: {
      tasks: "Tasks",
      pending: "Pending",
      inProgress: "In Progress",
      completed: "Completed",
      high: "High",
      medium: "Medium",
      low: "Low",
      start: "Start",
      pause: "Pause",
      complete: "Complete",
      cancel: "Cancel",
    },
  },
  pt: {
    common: {
      continue: "Continuar",
      cancel: "Cancelar",
      save: "Salvar",
      delete: "Excluir",
      edit: "Editar",
      search: "Pesquisar",
      filter: "Filtrar",
      close: "Fechar",
      back: "Voltar",
      next: "Próximo",
      previous: "Anterior",
      loading: "Carregando",
      error: "Erro",
      success: "Sucesso",
    },
    login: {
      welcome: "Bem-vindo à sua experiência",
      reservationCode: "Código de Reserva",
      lastName: "Sobrenome",
      enterReservationCode: "Digite seu código de reserva",
      enterLastName: "Digite seu sobrenome",
      orAccessAs: "Ou acesse como",
      accessAdmin: "Acesso Admin / Gerente",
      accessClient: "Acesso Hóspede",
      needHelp: "Precisa de ajuda? Entre em contato com a recepção",
      adminAccess: "Acesso Admin",
      user: "Usuário",
      password: "Senha",
      enterUser: "Digite seu usuário",
      enterPassword: "Digite sua senha",
      login: "Entrar",
      invalidCredentials: "Usuário ou senha inválidos",
      invalidCode: "Código de reserva inválido",
      selectLanguage: "Selecione seu idioma",
    },
    client: {
      home: "Início",
      orders: "Pedidos",
      events: "Eventos",
      notifications: "Avisos",
      agenda: "Agenda",
      yourStay: "Sua Estadia",
      checkout: "Checkout",
      nights: "noites",
      extend: "Estender",
      orderFood: "Pedir Comida",
      roomService: "Room Service disponível 24/7",
      arriving: "Chega entre",
      featuredServices: "Serviços em Destaque",
      reservations: "Reservas",
      breakfast: "Café da Manhã",
      cleaning: "Limpeza",
      gym: "Academia",
      pool: "Piscina",
      notReserved: "Não Reservado",
      reserved: "Reservado",
      needHelp: "Precisa de Ajuda?",
      hereForYou: "Estamos aqui para você",
      city: "Cidade",
      map: "Mapa",
      visits: "Visitas",
      concierge: "Concierge",
      myOrders: "Meus Pedidos",
      totalAccumulated: "Total Acumulado",
      viewMenu: "Ver Cardápio",
      registered: "Registrado",
      register: "Registrar",
      today: "Hoje",
      tomorrow: "Amanhã",
    },
    admin: {
      adminPanel: "Painel Admin",
      general: "Geral",
      dashboard: "Painel",
      salesAssistant: "Assistente de Vendas",
      spaces: "Espaços",
      rooms: "Quartos",
      spaceDesign: "Design de Espaços",
      services: "Serviços",
      facilities: "Instalações",
      housekeeping: "Limpeza",
      events: "Eventos",
      tickets: "Tickets",
      orders: "Pedidos",
      communication: "Comunicação",
      clients: "Hóspedes",
      notifications: "Notificações",
      recommendations: "Recomendações",
      logout: "Sair",
    },
    staff: {
      tasks: "Tarefas",
      pending: "Pendentes",
      inProgress: "Em Andamento",
      completed: "Concluídas",
      high: "Alta",
      medium: "Média",
      low: "Baixa",
      start: "Iniciar",
      pause: "Pausar",
      complete: "Concluir",
      cancel: "Cancelar",
    },
  },
  fr: {
    common: {
      continue: "Continuer",
      cancel: "Annuler",
      save: "Enregistrer",
      delete: "Supprimer",
      edit: "Modifier",
      search: "Rechercher",
      filter: "Filtrer",
      close: "Fermer",
      back: "Retour",
      next: "Suivant",
      previous: "Précédent",
      loading: "Chargement",
      error: "Erreur",
      success: "Succès",
    },
    login: {
      welcome: "Bienvenue à votre expérience",
      reservationCode: "Code de Réservation",
      lastName: "Nom de famille",
      enterReservationCode: "Entrez votre code de réservation",
      enterLastName: "Entrez votre nom de famille",
      orAccessAs: "Ou accédez en tant que",
      accessAdmin: "Accès Admin / Manager",
      accessClient: "Accès Client",
      needHelp: "Besoin d'aide? Contactez la réception",
      adminAccess: "Accès Admin",
      user: "Utilisateur",
      password: "Mot de passe",
      enterUser: "Entrez votre nom d'utilisateur",
      enterPassword: "Entrez votre mot de passe",
      login: "Se connecter",
      invalidCredentials: "Nom d'utilisateur ou mot de passe invalide",
      invalidCode: "Code de réservation invalide",
      selectLanguage: "Sélectionnez votre langue",
    },
    client: {
      home: "Accueil",
      orders: "Commandes",
      events: "Événements",
      notifications: "Alertes",
      agenda: "Agenda",
      yourStay: "Votre Séjour",
      checkout: "Départ",
      nights: "nuits",
      extend: "Prolonger",
      orderFood: "Commander",
      roomService: "Room Service disponible 24/7",
      arriving: "Arrive entre",
      featuredServices: "Services en Vedette",
      reservations: "Réservations",
      breakfast: "Petit-déjeuner",
      cleaning: "Nettoyage",
      gym: "Gym",
      pool: "Piscine",
      notReserved: "Non Réservé",
      reserved: "Réservé",
      needHelp: "Besoin d'Aide?",
      hereForYou: "Nous sommes là pour vous",
      city: "Ville",
      map: "Carte",
      visits: "Visites",
      concierge: "Conciergerie",
      myOrders: "Mes Commandes",
      totalAccumulated: "Total Accumulé",
      viewMenu: "Voir le Menu",
      registered: "Inscrit",
      register: "S'inscrire",
      today: "Aujourd'hui",
      tomorrow: "Demain",
    },
    admin: {
      adminPanel: "Panneau Admin",
      general: "Général",
      dashboard: "Tableau de bord",
      salesAssistant: "Assistant Commercial",
      spaces: "Espaces",
      rooms: "Chambres",
      spaceDesign: "Conception d'Espaces",
      services: "Services",
      facilities: "Installations",
      housekeeping: "Ménage",
      events: "Événements",
      tickets: "Tickets",
      orders: "Commandes",
      communication: "Communication",
      clients: "Clients",
      notifications: "Notifications",
      recommendations: "Recommandations",
      logout: "Déconnexion",
    },
    staff: {
      tasks: "Tâches",
      pending: "En attente",
      inProgress: "En cours",
      completed: "Terminées",
      high: "Haute",
      medium: "Moyenne",
      low: "Basse",
      start: "Démarrer",
      pause: "Pause",
      complete: "Terminer",
      cancel: "Annuler",
    },
  },
}
